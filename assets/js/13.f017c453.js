(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{375:function(t,r,e){t.exports=e.p+"assets/img/dom1.343115c3.jpeg"},486:function(t,r,e){"use strict";e.r(r);var a=e(44),o=Object(a.a)({},(function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"diff-vdom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#diff-vdom"}},[t._v("#")]),t._v(" Diff VDOM")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000008782928",target:"_blank",rel:"noopener noreferrer"}},[t._v("链接"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://mp.weixin.qq.com/s/itM1ldWdUHHqdHuv6q_vdw",target:"_blank",rel:"noopener noreferrer"}},[t._v("虚拟DOM"),a("OutboundLink")],1)])])]),t._v(" "),a("p",[a("img",{attrs:{src:e(375),alt:"vdom1"}})]),t._v(" "),a("ul",[a("li",[t._v("设置key和不设置key的区别"),a("br"),t._v("\n不设key，newCh和oldCh只会进行头尾两端的相互比较，设key后，除了头尾两端的比较外，"),a("br"),t._v("\n还会从用key生成的对象oldKeyToIdx中查找匹配的节点，所以为节点设置key可以更高效的利用dom。")]),t._v(" "),a("li",[t._v("引入虚拟dom的概念，由于渲染真实的dom比较消耗性能，在改变真实dom之前先比较相应的虚拟dom，如果有改变"),a("br"),t._v("\n才去更新对应的真实dom。比较只会在同级进行。")]),t._v(" "),a("li",[t._v("有时手动优化dom的效率会比使用虚拟dom高，但是对于页面结构比较大，结构比较复杂的dom时，手动优化会消耗大量的时间"),a("br"),t._v("\n且维护性不高。")])]),t._v(" "),a("h2",{attrs:{id:"比较方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#比较方式"}},[t._v("#")]),t._v(" 比较方式")]),t._v(" "),a("ul",[a("li",[t._v("同级比较")]),t._v(" "),a("li",[t._v("循环从两边向中间靠拢")])]),t._v(" "),a("h2",{attrs:{id:"vdom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vdom"}},[t._v("#")]),t._v(" VDOM")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://mp.weixin.qq.com/s/lAscEOQWkk-IQq6lWCdSSw",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[t._v("对真实DOM的抽象，以js对象（VNode）作为基础的树，用对象的属性来描述节点，"),a("br"),t._v("\n最终通过一系列操作使这棵树映射到真实的环境上。")])])]),t._v(" "),a("h2",{attrs:{id:"为什么需要虚拟dom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么需要虚拟dom"}},[t._v("#")]),t._v(" 为什么需要虚拟DOM")]),t._v(" "),a("ul",[a("li",[t._v("操作真实DOM的很慢，设计庞大的元素，容易引起性能问题，频繁操作甚至会导致页面卡顿，影响用户体验。")]),t._v(" "),a("li",[t._v("比如一次更新10个DOM节点，真实DOM收到第一个更新DOM请求后会立即执行流程，最终执行10个流程。"),a("br"),t._v("\n而虚拟DOM不会立即执行，而是通过VNode将这10次更新的diff内容保存到本地的js对象中，最终将这个js对象"),a("br"),t._v("\n一次性attach到DOM上，避免了无谓的操作。")])]),t._v(" "),a("h2",{attrs:{id:"diff算法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#diff算法"}},[t._v("#")]),t._v(" Diff算法")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://mp.weixin.qq.com/s/XRR9afpujcjbgFZM0Zw6Gw",target:"_blank",rel:"noopener noreferrer"}},[t._v("DIff算法看不懂就一起来锤我"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);r.default=o.exports}}]);